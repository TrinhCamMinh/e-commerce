{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from 'react';\nexport const useLogin = () => {\n  _s();\n\n  const [error, setError] = useState(false);\n\n  const login = async (userName, password) => {\n    const response = await fetch('/api/user/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        userName,\n        password\n      })\n    });\n    const json = await response.json();\n\n    if (!response.ok) {\n      setError(json.error);\n    } else {\n      localStorage.setItem('user', JSON.stringify(json));\n      console.log('login successfully!');\n    }\n  };\n\n  return {\n    login,\n    error\n  };\n};\n\n_s(useLogin, \"AvrsuJm02Cqlq6/LWpvA21zDecQ=\");","map":{"version":3,"names":["useState","useLogin","error","setError","login","userName","password","response","fetch","method","headers","body","JSON","stringify","json","ok","localStorage","setItem","console","log"],"sources":["D:/Workspace/MERN_STACK/e-commerce/frontend/src/hooks/useLogin.jsx"],"sourcesContent":["import { useState } from 'react';\r\n\r\nexport const useLogin = () => {\r\n    const [error, setError] = useState(false);\r\n\r\n    const login = async (userName, password) => {\r\n        const response = await fetch('/api/user/login', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({userName, password}),\r\n        });\r\n\r\n        const json = await response.json();\r\n\r\n        if (!response.ok) {\r\n            setError(json.error);\r\n        } else {\r\n            localStorage.setItem('user', JSON.stringify(json));\r\n            console.log('login successfully!');\r\n        }\r\n    };\r\n    return { login, error };\r\n};\r\n"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAM;EAAA;;EAC1B,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBH,QAAQ,CAAC,KAAD,CAAlC;;EAEA,MAAMI,KAAK,GAAG,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;IACxC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,iBAAD,EAAoB;MAC5CC,MAAM,EAAE,MADoC;MAE5CC,OAAO,EAAE;QAAE,gBAAgB;MAAlB,CAFmC;MAG5CC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QAACR,QAAD;QAAWC;MAAX,CAAf;IAHsC,CAApB,CAA5B;IAMA,MAAMQ,IAAI,GAAG,MAAMP,QAAQ,CAACO,IAAT,EAAnB;;IAEA,IAAI,CAACP,QAAQ,CAACQ,EAAd,EAAkB;MACdZ,QAAQ,CAACW,IAAI,CAACZ,KAAN,CAAR;IACH,CAFD,MAEO;MACHc,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BL,IAAI,CAACC,SAAL,CAAeC,IAAf,CAA7B;MACAI,OAAO,CAACC,GAAR,CAAY,qBAAZ;IACH;EACJ,CAfD;;EAgBA,OAAO;IAAEf,KAAF;IAASF;EAAT,CAAP;AACH,CApBM;;GAAMD,Q"},"metadata":{},"sourceType":"module"}