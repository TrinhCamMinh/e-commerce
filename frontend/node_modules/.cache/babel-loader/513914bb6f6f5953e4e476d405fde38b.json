{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useAuthContext } from '../hooks/useAuthContext';\nimport { useState } from 'react';\nexport const useUpdateAccount = () => {\n  _s();\n\n  const {\n    user,\n    dispatch\n  } = useAuthContext();\n  const [error, setError] = useState(false);\n\n  const updateAccount = async (userName, oldPassword, newPassword, phoneNumber, email) => {\n    const response = await fetch(`/api/user?${user._id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        userName,\n        oldPassword,\n        newPassword,\n        phoneNumber,\n        email\n      })\n    });\n    const json = await response.json();\n\n    if (!response.ok) {\n      console.log('update failed');\n      setError(true);\n    }\n\n    dispatch({\n      type: 'LOGIN',\n      payload: json\n    });\n  };\n\n  return {\n    updateAccount\n  };\n};\n\n_s(useUpdateAccount, \"MNBE0dos+x8TKp84IYE7HebOD3g=\", false, function () {\n  return [useAuthContext];\n});","map":{"version":3,"names":["useAuthContext","useState","useUpdateAccount","user","dispatch","error","setError","updateAccount","userName","oldPassword","newPassword","phoneNumber","email","response","fetch","_id","method","headers","body","JSON","stringify","json","ok","console","log","type","payload"],"sources":["D:/Workspace/MERN_STACK/e-commerce/frontend/src/hooks/useUpdateAccount.jsx"],"sourcesContent":["import { useAuthContext } from '../hooks/useAuthContext';\r\nimport { useState } from 'react';\r\nexport const useUpdateAccount = () => {\r\n    const { user, dispatch } = useAuthContext();\r\n    const [error, setError] = useState(false);\r\n    const updateAccount = async (userName, oldPassword, newPassword, phoneNumber, email) => {\r\n        const response = await fetch(`/api/user?${user._id}`, {\r\n            method: 'PUT',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ userName, oldPassword, newPassword, phoneNumber, email }),\r\n        });\r\n        const json = await response.json();\r\n        if (!response.ok) {\r\n            console.log('update failed');\r\n            setError(true);\r\n        }\r\n        dispatch({ type: 'LOGIN', payload: json });\r\n    };\r\n    return { updateAccount };\r\n};\r\n"],"mappings":";;AAAA,SAASA,cAAT,QAA+B,yBAA/B;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAO,MAAMC,gBAAgB,GAAG,MAAM;EAAA;;EAClC,MAAM;IAAEC,IAAF;IAAQC;EAAR,IAAqBJ,cAAc,EAAzC;EACA,MAAM,CAACK,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,KAAD,CAAlC;;EACA,MAAMM,aAAa,GAAG,OAAOC,QAAP,EAAiBC,WAAjB,EAA8BC,WAA9B,EAA2CC,WAA3C,EAAwDC,KAAxD,KAAkE;IACpF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,aAAYX,IAAI,CAACY,GAAI,EAAvB,EAA0B;MAClDC,MAAM,EAAE,KAD0C;MAElDC,OAAO,EAAE;QAAE,gBAAgB;MAAlB,CAFyC;MAGlDC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QAAEZ,QAAF;QAAYC,WAAZ;QAAyBC,WAAzB;QAAsCC,WAAtC;QAAmDC;MAAnD,CAAf;IAH4C,CAA1B,CAA5B;IAKA,MAAMS,IAAI,GAAG,MAAMR,QAAQ,CAACQ,IAAT,EAAnB;;IACA,IAAI,CAACR,QAAQ,CAACS,EAAd,EAAkB;MACdC,OAAO,CAACC,GAAR,CAAY,eAAZ;MACAlB,QAAQ,CAAC,IAAD,CAAR;IACH;;IACDF,QAAQ,CAAC;MAAEqB,IAAI,EAAE,OAAR;MAAiBC,OAAO,EAAEL;IAA1B,CAAD,CAAR;EACH,CAZD;;EAaA,OAAO;IAAEd;EAAF,CAAP;AACH,CAjBM;;GAAML,gB;UACkBF,c"},"metadata":{},"sourceType":"module"}